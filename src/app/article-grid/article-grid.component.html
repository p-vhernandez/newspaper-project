<div class="content">

    <div class="user">
        <p class="user-welcome"
           *ngIf="user != null">Welcome back, {{ user.username }}</p>
        <button class="btn btn-primary mr-2 login-btn"
                *ngIf="user == null"
                [routerLink]="['/loginForm']">
            Login
        </button>
        <button class="btn btn-primary mr-2 login-btn"
                *ngIf="user != null"
                (click)="userLogout()">
            Log out
        </button>
    </div>
    
    <div class="new-article"
        *ngIf="user != null">
        <button class="btn btn-primary mr-2 new-btn"
                [routerLink]="['/articleForm']">
            Create new article
        </button>
    </div>

    <br>

    <div class="news-navigation">
        
    </div>

    <br>
    <br>

    <div fxLayout="row wrap"
         class="article-card">
        <mat-card class="article"
                  *ngFor="let article of allArticles">
            <mat-card-content class="article-content">
                <a href="/articleViewer?article={{ article.id }}">
                    <img class="article-image img-fluid mx-auto"
                         [src]="'data:' + article?.thumbnail_media_type + ';base64,' + article?.thumbnail_image" 
                         alt="Article image">
                </a>
    
                <a href="/articleViewer?article={{ article.id }}">
                    <p class="article-title">{{ article.title }}</p>
                </a>
                
                <p class="article-subtitle">{{ article.subtitle }}</p>
                <p class="article-abstract">{{ article.abstract }}</p>
                
                <a href="/articleViewer?article={{ article.id }}">
                    <p class="article-viewer-btn">Read more</p>
                </a>
            </mat-card-content>

            <mat-card-actions class="action-btns">
                <button mat-button
                        *ngIf="user != null">
                    <i class="material-icons md-18">edit</i>
                    Edit article
                </button>
                <button mat-button
                        *ngIf="user != null"
                        (click)="deleteArticle(article.id)">
                    <i class="material-icons md-18">delete_outline</i>
                    Delete article
                </button>
            </mat-card-actions>
        </mat-card>
    </div>

</div>